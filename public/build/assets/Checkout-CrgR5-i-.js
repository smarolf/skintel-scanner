import{c as A,a as I,_ as d}from"./createLucideIcon-5LDZ8RbA.js";import{_ as b,a as k,E as G,S as K}from"./sun-DrLQc_FD.js";import{c as m,o as u,r as E,n as B,u as e,a as w,b as y,d as X,e as t,f as a,g as z,h as P,w as n,i as x,F as ss,j as ts,t as i,k as es,l as as}from"./app-D8xelaHR.js";import{S as U,M as V,P as D,T as C}from"./trash-2-DaBLE_aY.js";import{A as N}from"./arrow-left-Czfd1XDz.js";import{U as os}from"./user-BzVxNbv4.js";import{T as ls,C as ns,D as rs,W as is,Z as L}from"./zap-9Zsq_K24.js";const S={__name:"CardHeader",props:{class:{type:null,required:!1}},setup(f){const r=f;return(c,_)=>(u(),m("div",{"data-slot":"card-header",class:B(e(A)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r.class))},[E(c.$slots,"default")],2))}},$={__name:"CardTitle",props:{class:{type:null,required:!1}},setup(f){const r=f;return(c,_)=>(u(),m("h3",{"data-slot":"card-title",class:B(e(A)("leading-none font-semibold text-2xl",r.class))},[E(c.$slots,"default")],2))}};/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=I("CalculatorIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=I("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=I("PackageIcon",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),ms={class:"min-h-screen bg-gray-50 px-4 py-8"},ps={class:"mx-auto max-w-4xl"},xs={class:"mb-8 text-center"},fs={class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-teal-400 to-emerald-500"},ys={class:"grid lg:grid-cols-3 gap-8"},_s={class:"lg:col-span-2"},gs={key:0,class:"text-center py-8"},hs={key:1,class:"space-y-4"},vs=["src","alt"],bs={class:"flex-1 text-center sm:text-left"},ks={class:"font-semibold text-gray-800"},ws={class:"text-sm text-gray-600 mb-2"},Cs={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800"},Ss={class:"flex items-center justify-center sm:justify-between flex-wrap gap-2"},$s={class:"flex items-center space-x-2"},Is={class:"text-lg font-bold text-gray-800"},Fs={class:"text-sm text-gray-500"},Ts={class:"font-semibold text-teal-600"},qs={class:"flex items-center justify-center space-x-4 mt-3 sm:hidden"},Ms={class:"flex items-center space-x-1 bg-white rounded border"},js={class:"text-sm font-medium px-3 min-w-[30px] text-center"},zs={class:"hidden sm:flex items-center space-x-2"},Ps={class:"flex items-center space-x-1 bg-white rounded border"},Us={class:"text-sm font-medium px-3 min-w-[30px] text-center"},Vs={class:"grid md:grid-cols-2 gap-4"},Ds={class:"text-gray-800"},Ns={class:"text-gray-800"},Ls={key:0},As={class:"text-gray-800"},Es={class:"text-gray-800"},Bs={class:"lg:col-span-1"},Os={class:"space-y-3"},Js={class:"flex justify-between"},Qs={class:"text-gray-600"},Rs={class:"font-medium"},Ws={class:"flex justify-between"},Zs={class:"font-medium"},Hs={class:"flex justify-between text-lg font-bold"},Ys={class:"text-teal-600"},Gs={class:"mt-6 space-y-3"},lt={__name:"Checkout",setup(f){const r=w([]),c=w(null),_=w(!0),O=y(()=>r.value.reduce((o,s)=>o+s.quantity,0)),g=y(()=>r.value.reduce((o,s)=>o+parseFloat(s.price)*s.quantity,0)),F=y(()=>g.value*.08),T=y(()=>g.value+F.value),J=o=>({redness:L,texture:is,oiliness:rs,dryness:K,poreVisibility:ns,darkCircles:G,acneScarring:ls})[o]||L,Q=o=>({redness:"Redness",texture:"Texture",oiliness:"Oiliness",dryness:"Dryness",poreVisibility:"Pore Visibility",darkCircles:"Dark Circles",acneScarring:"Acne Scarring"})[o]||o,R=o=>o.charAt(0).toUpperCase()+o.slice(1),q=o=>{const s=r.value.find(l=>l.id===o);s&&(s.quantity+=1,v())},M=o=>{const s=r.value.find(l=>l.id===o);s&&(s.quantity>1?s.quantity-=1:h(o),v())},h=o=>{r.value=r.value.filter(s=>s.id!==o),v()},W=()=>{r.value=[],localStorage.removeItem("cartItems"),localStorage.removeItem("submissionUuid")},v=()=>{localStorage.setItem("cartItems",JSON.stringify(r.value))},Z=()=>{const o=localStorage.getItem("cartItems");if(o)try{r.value=JSON.parse(o)}catch(s){console.error("Error parsing cart from localStorage:",s),r.value=[]}},H=async()=>{const o=localStorage.getItem("submissionUuid");if(o)try{const s=await as.get(`/api/submissions/${o}`);s.data.success&&(c.value=s.data.submission)}catch(s){console.error("Error loading submission data:",s)}},j=()=>{window.history.back()},Y=()=>{alert(`Proceeding to payment for $${T.value.toFixed(2)}`)};return X(async()=>{localStorage.getItem("submissionUuid")||(localStorage.removeItem("cartItems"),console.log("No submission ID found, cart cleared")),Z(),await H(),_.value=!1}),(o,s)=>(u(),m("div",ms,[t("div",ps,[t("div",xs,[t("div",fs,[a(e(U),{class:"h-8 w-8 text-white"})]),s[0]||(s[0]=t("h1",{class:"mb-2 text-3xl font-bold text-gray-800"},"Checkout",-1)),s[1]||(s[1]=t("p",{class:"text-gray-600"},"Review your personalized skincare routine",-1))]),t("div",ys,[t("div",_s,[a(e(k),{class:"mb-6"},{default:n(()=>[a(e(S),null,{default:n(()=>[a(e($),{class:"flex items-center space-x-2"},{default:n(()=>[a(e(us),{class:"w-5 h-5"}),s[2]||(s[2]=t("span",null,"Order Summary",-1))]),_:1,__:[2]})]),_:1}),a(e(b),null,{default:n(()=>[r.value.length===0?(u(),m("div",gs,[a(e(U),{class:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s[4]||(s[4]=t("p",{class:"text-gray-500 mb-4"},"Your cart is empty",-1)),a(e(d),{onClick:j,variant:"outline"},{default:n(()=>[a(e(N),{class:"w-4 h-4 mr-2"}),s[3]||(s[3]=x(" Continue Shopping ",-1))]),_:1,__:[3]})])):(u(),m("div",hs,[(u(!0),m(ss,null,ts(r.value,l=>(u(),m("div",{key:l.id,class:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 p-4 bg-gray-50 rounded-lg"},[t("img",{src:l.image,alt:l.name,class:"w-16 h-16 object-cover rounded-lg mx-auto sm:mx-0"},null,8,vs),t("div",bs,[t("h3",ks,i(l.name),1),t("p",ws,[t("span",Cs,[(u(),z(es(J(l.concern_type)),{class:"w-3 h-3 mr-1"})),x(" "+i(Q(l.concern_type)),1)])]),t("div",Ss,[t("div",$s,[t("span",Is,"$"+i(l.price),1),t("span",Fs,"Ã— "+i(l.quantity),1)]),t("span",Ts," $"+i((parseFloat(l.price)*l.quantity).toFixed(2)),1)]),t("div",qs,[t("div",Ms,[a(e(d),{onClick:p=>M(l.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-100"},{default:n(()=>[a(e(V),{class:"w-3 h-3"})]),_:2},1032,["onClick"]),t("span",js,i(l.quantity),1),a(e(d),{onClick:p=>q(l.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-100"},{default:n(()=>[a(e(D),{class:"w-3 h-3"})]),_:2},1032,["onClick"])]),a(e(d),{onClick:p=>h(l.id),variant:"ghost",size:"sm",class:"text-red-500 hover:text-red-700"},{default:n(()=>[a(e(C),{class:"w-4 h-4"})]),_:2},1032,["onClick"])])]),t("div",zs,[t("div",Ps,[a(e(d),{onClick:p=>M(l.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-100"},{default:n(()=>[a(e(V),{class:"w-3 h-3"})]),_:2},1032,["onClick"]),t("span",Us,i(l.quantity),1),a(e(d),{onClick:p=>q(l.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-100"},{default:n(()=>[a(e(D),{class:"w-3 h-3"})]),_:2},1032,["onClick"])]),a(e(d),{onClick:p=>h(l.id),variant:"ghost",size:"sm",class:"text-red-500 hover:text-red-700"},{default:n(()=>[a(e(C),{class:"w-4 h-4"})]),_:2},1032,["onClick"])])]))),128))]))]),_:1})]),_:1}),c.value?(u(),z(e(k),{key:0},{default:n(()=>[a(e(S),null,{default:n(()=>[a(e($),{class:"flex items-center space-x-2"},{default:n(()=>[a(e(os),{class:"w-5 h-5"}),s[5]||(s[5]=t("span",null,"Customer Information",-1))]),_:1,__:[5]})]),_:1}),a(e(b),null,{default:n(()=>[t("div",Vs,[t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name",-1)),t("p",Ds,i(c.value.name),1)]),t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),t("p",Ns,i(c.value.email),1)]),c.value.phone?(u(),m("div",Ls,[s[8]||(s[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),t("p",As,i(c.value.phone),1)])):P("",!0),t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Skin Type",-1)),t("p",Es,i(R(c.value.skin_type)),1)])])]),_:1})]),_:1})):P("",!0)]),t("div",Bs,[a(e(k),{class:"sticky top-8"},{default:n(()=>[a(e(S),null,{default:n(()=>[a(e($),{class:"flex items-center space-x-2"},{default:n(()=>[a(e(cs),{class:"w-5 h-5"}),s[10]||(s[10]=t("span",null,"Order Total",-1))]),_:1,__:[10]})]),_:1}),a(e(b),null,{default:n(()=>[t("div",Os,[t("div",Js,[t("span",Qs,"Subtotal ("+i(O.value)+" items)",1),t("span",Rs,"$"+i(g.value.toFixed(2)),1)]),s[13]||(s[13]=t("div",{class:"flex justify-between"},[t("span",{class:"text-gray-600"},"Shipping"),t("span",{class:"font-medium text-green-600"},"Free")],-1)),t("div",Ws,[s[11]||(s[11]=t("span",{class:"text-gray-600"},"Tax",-1)),t("span",Zs,"$"+i(F.value.toFixed(2)),1)]),s[14]||(s[14]=t("hr",{class:"my-4"},null,-1)),t("div",Hs,[s[12]||(s[12]=t("span",null,"Total",-1)),t("span",Ys,"$"+i(T.value.toFixed(2)),1)])]),t("div",Gs,[a(e(d),{onClick:Y,class:"w-full bg-teal-600 hover:bg-teal-700",disabled:r.value.length===0},{default:n(()=>[a(e(ds),{class:"w-4 h-4 mr-2"}),s[15]||(s[15]=x(" Proceed to Payment ",-1))]),_:1,__:[15]},8,["disabled"]),a(e(d),{onClick:j,variant:"outline",class:"w-full"},{default:n(()=>[a(e(N),{class:"w-4 h-4 mr-2"}),s[16]||(s[16]=x(" Continue Shopping ",-1))]),_:1,__:[16]}),a(e(d),{onClick:W,variant:"ghost",class:"w-full text-red-600 hover:text-red-700"},{default:n(()=>[a(e(C),{class:"w-4 h-4 mr-2"}),s[17]||(s[17]=x(" Clear Cart ",-1))]),_:1,__:[17]})])]),_:1})]),_:1})])])])]))}};export{lt as default};
